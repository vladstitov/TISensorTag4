<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>BLEStart</title>

    <!-- BLEStart references -->
    <link href="css/index.css" rel="stylesheet" />
</head>
<body>
   
    <button id="btnStopScan">Stop Scan</button>
    <button id="btnStartScan">Start Scan</button>
    <select id="devices"></select>
    <button id="btnConnect">Connect</button>



    <div class="SensorData">Status: <span id="StatusData">Ready to connect</span></div>
    <div class="SensorData">Keypress: <span id="KeypressData">[Waiting for value]</span></div>
    <div class="SensorData">IRTemperature:<br /><span id="IRTemperatureData">[Waiting for value]</span></div>
    <div class="SensorData">Accelerometer:<br /><span id="AccelerometerData">[Waiting for value]</span></div>
    <div class="SensorData">Humidity:<br /><span id="HumidityData">[Waiting for value]</span></div>
    <div class="SensorData" ">Magnetometer:<br /><span id="MagnetometerData">[Waiting for value]</span></div>
    <div class="SensorData">Barometer:<br /><span id="BarometerData">[Waiting for value]</span></div>
    <div class="SensorData">Gyroscope:<br /><span id="GyroscopeData">[Waiting for value]</span></div>


    <!-- Cordova reference, this is added to your app when it's built. -->
    <script src="cordova.js"></script>
    <script src="scripts/platformOverrides.js"></script>
    <script src="libs/jquery-2.1.3.min.js"></script>
    <script src="scripts/TISensorTagConstants.js"></script>
    <script src="scripts/BleServices.js"></script>
    <script src="scripts/BLEConnect.js"></script>
    <script src="scripts/index.js"></script>
    <script>
        $(document).ready(function () {
            onDeviceReady = function () {
                console.log(bluetoothle);
                if (bluetoothle) {
                    var connector = new myapp.BLEConnect(bluetoothle);
                    var services = new myapp.BleServices();

                    connector.onConnected = function (address) {                       
                       
                        var servs = connector.getServicesByAddress(address);
                       
                       var chars = services.setServices(servs); 
                       console.log('connector connected  to address ' + address);
                       console.log(servs);
                       console.log(chars);

                    }
                }
            }
            document.addEventListener('deviceready', onDeviceReady, false);
        })
    </script>
</body>
</html>